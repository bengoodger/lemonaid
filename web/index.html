<!DOCTYPE html>
<html>
  <head>
    <title>lemonaid</title>
    <script src="/socket.io/socket.io.js"></script>
    <script>
      var socket = io.connect();
      socket.on('disconnect', function() {
        socket.socket.connect();
      });
    </script>
    <link rel="import" href="bower_components/polymer/polymer.html">
    <link rel="import" href="lemonaid-integra.html">
    <link rel="import" href="lemonaid-lutron-scheme.html">
    <link rel="import" href="lemonaid-lutron-load.html">
    <link rel="import" href="lemonaid-samsung.html">
    <link rel="import" href="lemonaid-tivo.html">
    <link rel="stylesheet" href="lemonaid.css">
    <style>

    #menu > .nav {
      text-decoration: none;
      color: black;
      font-size: x-large;
      font-weight: bold;
      margin: .3em;
      background: #DEDEDE;
      padding: .2em;
    }

    .nav[selected] {
      color: red;
      font-weight: bold;
    }

    #menu > .nav[selected] {
      color: red;
    }

    #menu {
      margin-right: 2em;
    }
    </style>
  </head>
  <body>
    <!--
    <google-signin clientId="551180147597-rdkoj20v9tanblk038jj24v3auuq68iv.apps.googleusercontent.com"
                   scopes="https://www.googleapis.com/auth/plus.me"
                   cookiePolicy="single_host_origin"
                   labelSignin="Sign in with Google"></google-signin>
    -->

    <div class="flex row stretch">
      <div id="menu" class="flex column stretch justify-start">
        <a class="nav" href="#home">Home</a>
        <a class="nav" href="#sonos">Sonos</a>
        <a class="nav" href="#livingroom">Living Room</a>
        <a class="nav" href="#master">Master Suite</a>
        <a class="nav" href="#lighting">Lighting</a>
        <a class="nav" href="#security">Security</a>
      </div>
      <div id="content">
        <div id="home" class="page">
          <a name="home"><h1>Home</h1></a>
        </div>
        <div id="sonos" class="page" hidden="true">
          <a name="sonos"><h1>Sonos</h1></a>
        </div>
        <div id="livingroom" class="page" hidden="true">
          <a name="livingroom"><h1>Living Room</h1></a>
          <div id="livingroom.nav">
            <a class="nav" href="#livingroom.tv">TV</a>
            <a class="nav" href="#livingroom.game">PS4</a>
            <a class="nav" href="#livingroom.bluray">Blu-Ray</a>
            <a class="nav" href="#livingroom.chromecast">Chromecast</a>
            <a class="nav" href="#livingroom.lighting">Lighting</a>
            <a class="nav" href="#livingroom.devices">Devices</a>
          </div>
          <div id="livingroom.tv" class="page">
            <button id="watchtv" onclick="socket.emit('DeviceEvent', 'FamilyRoom.WatchTV');">Watch TV</button>
            <button id="watchmovie" onclick="socket.emit('DeviceEvent', 'FamilyRoom.WatchMovie');">Movie Night</button>
            <button id="off" onclick="socket.emit('DeviceEvent', 'FamilyRoom.Off');">Off</button>
            <lemonaid-samsung deviceName="FamilyRoomTV"></lemonaid-samsung>
            <lemonaid-tivo deviceName="FamilyRoomTivo">
              <lemonaid-integra deviceName="FamilyRoomReceiver"></lemonaid-integra>
            </lemonaid-tivo>
          </div>
          <div id="livingroom.game" class="page" hidden="true">
            <button id="playgame" onclick="socket.emit('DeviceEvent', 'FamilyRoom.PlayGame');">Play Game</button>
            <button id="off" onclick="socket.emit('DeviceEvent', 'FamilyRoom.Off');">Off</button>
            <lemonaid-samsung deviceName="FamilyRoomTV"></lemonaid-samsung>
            <lemonaid-integra deviceName="FamilyRoomReceiver"></lemonaid-integra>
          </div>
          <div id="livingroom.bluray" class="page" hidden="true">
            <lemonaid-samsung deviceName="FamilyRoomTV"></lemonaid-samsung>
            <lemonaid-integra deviceName="FamilyRoomReceiver"></lemonaid-integra>
          </div>
          <div id="livingroom.chromecast" class="page" hidden="true">
            <lemonaid-samsung deviceName="FamilyRoomTV"></lemonaid-samsung>
            <lemonaid-integra deviceName="FamilyRoomReceiver"></lemonaid-integra>
          </div>
          <div id="livingroom.lighting" class="page" hidden="true">
            <h3>Living Room</h3>
            <lemonaid-lutron-scheme lights="Lutron.FamilyRoomRecessed.40 Lutron.FamilyRoomChandelier.50">Chill</lemonaid-lutron-scheme>
            <lemonaid-lutron-scheme lights="Lutron.FamilyRoomRecessed.90 Lutron.FamilyRoomChandelier.90">Bright</lemonaid-lutron-scheme>
            <lemonaid-lutron-scheme lights="Lutron.FamilyRoomRecessed.Off Lutron.FamilyRoomChandelier.Off">Off</lemonaid-lutron-scheme>
            <h3>Kitchen</h3>
            <lemonaid-lutron-scheme lights="Lutron.KitchenSinkAndNook.0 Lutron.KitchenRecessed.Off Lutron.KitchenIslandPendants.25 Lutron.KitchenCabinets.Off">Super Chill</lemonaid-lutron-scheme>
            <lemonaid-lutron-scheme lights="Lutron.KitchenSinkAndNook.50 Lutron.KitchenRecessed.40 Lutron.KitchenIslandPendants.60 Lutron.KitchenCabinets.40">Chill</lemonaid-lutron-scheme>
            <lemonaid-lutron-scheme lights="Lutron.KitchenSinkAndNook.90 Lutron.KitchenRecessed.90 Lutron.KitchenIslandPendants.90 Lutron.KitchenCabinets.90">Bright</lemonaid-lutron-scheme>
            <lemonaid-lutron-scheme lights="Lutron.KitchenSinkAndNook.Off Lutron.KitchenRecessed.Off Lutron.KitchenIslandPendants.Off Lutron.KitchenCabinets.Off">Off</lemonaid-lutron-scheme>
            <h3>Dining Room</h3>
            <lemonaid-lutron-scheme lights="Lutron.DiningRoomChandelier.50 Lutron.DiningRoomRecessed.40 Lutron.DiningRoomCove.50">Chill</lemonaid-lutron-scheme>
            <lemonaid-lutron-scheme lights="Lutron.DiningRoomChandelier.90 Lutron.DiningRoomRecessed.90 Lutron.DiningRoomCove.90">Bright</lemonaid-lutron-scheme>
            <lemonaid-lutron-scheme lights="Lutron.DiningRoomChandelier.Off Lutron.DiningRoomRecessed.Off Lutron.DiningRoomCove.Off">Off</lemonaid-lutron-scheme>
            <h3>Foyer</h3>
            <lemonaid-lutron-scheme lights="Lutron.FoyerPendants.50 Lutron.FoyerSconces.50">Chill</lemonaid-lutron-scheme>
            <lemonaid-lutron-scheme lights="Lutron.FoyerPendants.90 Lutron.FoyerSconces.90">Bright</lemonaid-lutron-scheme>
            <lemonaid-lutron-scheme lights="Lutron.FoyerPendants.Off Lutron.FoyerSconces.Off">Off</lemonaid-lutron-scheme>
          </div>
          <div id="livingroom.devices" class="page" hidden="true">
            <div id="livingroom.devices.nav">
              ....
              <a class="nav" href="#livingroom.devices.tv">TV</a>
              <a class="nav" href="#livingroom.devices.receiver">Receiver</a>
              <a class="nav" href="#livingroom.devices.tivo">Tivo</a>
              <a class="nav" href="#livingroom.devices.bluray">Blu-Ray</a>
            </div>
            <div id="livingroom.devices.tv" class="page">
              <lemonaid-samsung deviceName="FamilyRoomTV" deviceView="true"></lemonaid-samsung>
            </div>
            <div id="livingroom.devices.receiver" hidden="true" class="page">
              <lemonaid-integra deviceName="FamilyRoomReceiver" deviceView="true"></lemonaid-integra>
            </div>
            <div id="livingroom.devices.tivo" hidden="true" class="page">
              <lemonaid-tivo deviceName="FamilyRoomTivo" deviceView="true"></lemonaid-tivo>
            </div>
            <div id="livingroom.devices.bluray" hidden="true" class="page">
            </div>
          </div>
        </div>
        <div id="master" class="page" hidden="true">
          <a name="master"><h1>Master Suite</h1></a>
          <div id="master.nav">
            <a class="nav" href="#master.bedroom">Bedroom</a>
            <a class="nav" href="#master.bathroom">Bathroom</a>
            <a class="nav" href="#master.lighting">Lighting</a>
            <a class="nav" href="#master.devices">Devices</a>
          </div>
          <div id="master.bedroom" class="page">
            <button id="watchtv-bedroom" onclick="socket.emit('DeviceEvent', 'MasterBedroom.WatchTV');">Watch TV</button>
            <button id="watchtv-bedroom" onclick="socket.emit('DeviceEvent', 'MasterBedroom.ChromeCast');">Chromecast</button>
            <button id="off" onclick="socket.emit('DeviceEvent', 'MasterSuite.Off');">Master Suite Off</button>
            <lemonaid-tivo deviceName="MasterSuiteTivo"></lemonaid-tivo>
          </div>
          <div id="master.bathroom" class="page" hidden="true">
            <button id="watchtv-bathroom" onclick="socket.emit('DeviceEvent', 'MasterBathroom.WatchTV');">Watch TV</button>
            <button id="ben-morning-bathroom" onclick="socket.emit('DeviceEvent', 'MasterBathroom.WakeUpBen');">Ben Morning</button>
            <button id="off" onclick="socket.emit('DeviceEvent', 'MasterSuite.Off');">Master Suite Off</button>
            <lemonaid-tivo deviceName="MasterSuiteTivo"></lemonaid-tivo>
          </div>
          <div id="master.lighting" class="page" hidden="true">
            <h3>Bedroom</h3>
            <lemonaid-lutron-scheme lights="Lutron.MasterBedroomRecessed.0 Lutron.MasterBedroomCove.25 Lutron.MasterBedroomChandelier.50">Sparks</lemonaid-lutron-scheme>
            <lemonaid-lutron-scheme lights="Lutron.MasterBedroomRecessed.50 Lutron.MasterBedroomCove.25 Lutron.MasterBedroomChandelier.50">Chill</lemonaid-lutron-scheme>
            <lemonaid-lutron-scheme lights="Lutron.MasterBedroomRecessed.75 Lutron.MasterBedroomCove.90 Lutron.MasterBedroomChandelier.90">Normal</lemonaid-lutron-scheme>
          </div>
          <div id="master.devices" class="page" hidden="true">
            <div id="master.devices.nav">
              <a class="nav" href="#master.devices.receiver">Receiver</a>
              <a class="nav" href="#master.devices.tivo">Tivo</a>
              <a class="nav" href="#master.devices.bedroomtv">Bedroom TV</a>
              <a class="nav" href="#master.devices.bathroomtv">Bathroom TV</a>
            </div>
            <div id="master.devices.receiver" class="page">
              <lemonaid-integra deviceName="MasterSuiteReceiver" deviceView="true"></lemonaid-integra>
            </div>
            <div id="master.devices.tivo" class="page" hidden="true">
              <lemonaid-tivo deviceName="MasterSuiteTivo" deviceView="true"></lemonaid-tivo>
            </div>
            <div id="master.devices.bedroomtv" class="page" hidden="true">
              <lemonaid-samsung deviceName="MasterBedroomTV" deviceView="true" hasAudio="true"></lemonaid-samsung>
            </div>
            <div id="master.devices.bathroomtv" class="page" hidden="true">
              <lemonaid-samsung deviceName="MasterBathroomTV" deviceView="true" hasAudio="true"></lemonaid-samsung>
            </div>
          </div>
        </div>
        <div id="lighting" class="page" hidden="true">
          <a name="lighting"><h1>Lighting</h1></a>
          <div id="lighting.nav">
            <a class="nav" href="#lighting.schemes">Schemes</a>
            <a class="nav" href="#lighting.loads">Loads</a>
          </div>
          <div id="lighting.schemes" class="page">
            <button>All Off</button>
            <button>Entertaining</button>
            <button>Intimate</button>
            <button>Late Night</button>
          </div>
          <div id="lighting.loads" class="page" hidden="true">
            <h3>Exterior Front</h3>
            <lemonaid-lutron-load load="Lutron.FrontPorchLights">Front Porch Pendants</lemonaid-lutron-load><br>
            <lemonaid-lutron-load load="Lutron.FrontDoorSconces">Front Door Sconces</lemonaid-lutron-load>
            <h3>Family Room</h3>
            <lemonaid-lutron-load load="Lutron.FamilyRoomRecessed">Recessed</lemonaid-lutron-load><br>
            <lemonaid-lutron-load load="Lutron.FamilyRoomChandelier">Chandelier</lemonaid-lutron-load><br>
            <lemonaid-lutron-load load="Lutron.FamilyRoomPorch">Porch</lemonaid-lutron-load>
            <h3>Dining Room</h3>
            <lemonaid-lutron-load load="Lutron.DiningRoomChandelier">Chandelier</lemonaid-lutron-load><br>
            <lemonaid-lutron-load load="Lutron.DiningRoomRecessed">Recessed</lemonaid-lutron-load><br>
            <lemonaid-lutron-load load="Lutron.DiningRoomCove">Cove &amp; China Cabinet</lemonaid-lutron-load>
            <h3>Kitchen</h3>
            <lemonaid-lutron-load load="Lutron.KitchenSinkAndNook">Sink &amp; Nook</lemonaid-lutron-load><br>
            <lemonaid-lutron-load load="Lutron.KitchenRecessed">Recessed</lemonaid-lutron-load><br>
            <lemonaid-lutron-load load="Lutron.KitchenIslandPendants">Island Pendants</lemonaid-lutron-load><br>
            <lemonaid-lutron-load load="Lutron.KitchenCabinets">Cabinets</lemonaid-lutron-load><br>
            <lemonaid-lutron-load load="Lutron.MudRoomRecessed">Mud Room</lemonaid-lutron-load><br>
            <lemonaid-lutron-load load="Lutron.LanaiChandeliers">Lanai Chandeliers</lemonaid-lutron-load>
            <h3>Foyer</h3>
            <lemonaid-lutron-load load="Lutron.FoyerPendants">Pendants</lemonaid-lutron-load><br>
            <lemonaid-lutron-load load="Lutron.FoyerSconces">Sconces</lemonaid-lutron-load>
            <h3>Hallway</h3>
            <lemonaid-lutron-load load="Lutron.HallwayPendant">Pendant</lemonaid-lutron-load><br>
            <lemonaid-lutron-load load="Lutron.HallwayWallWashers">Art</lemonaid-lutron-load><br>
            <lemonaid-lutron-load load="Lutron.HallwayRecessed">Recessed</lemonaid-lutron-load>
            <h3>Master Suite</h3>
            <lemonaid-lutron-load load="Lutron.MasterBedroomRecessed">Recessed</lemonaid-lutron-load><br>
            <lemonaid-lutron-load load="Lutron.MasterBedroomCove">Cove</lemonaid-lutron-load><br>
            <lemonaid-lutron-load load="Lutron.MasterBedroomChandelier">Chandelier</lemonaid-lutron-load><br>
            <lemonaid-lutron-load load="Lutron.MasterBathroomSconces">Vanity Sconces</lemonaid-lutron-load><br>
            <lemonaid-lutron-load load="Lutron.MasterBathroomRecessed">Bathroom</lemonaid-lutron-load><br>
            <lemonaid-lutron-load load="Lutron.MasterBathroomShower">Shower</lemonaid-lutron-load><br>
            <lemonaid-lutron-load load="Lutron.MasterBathroomFan">Shower Fan</lemonaid-lutron-load><br>
            <lemonaid-lutron-load load="Lutron.MasterBedroomDeck">Deck</lemonaid-lutron-load>
          </div>
        </div>      
        <div id="security" class="page" hidden="true">
          <a name="security"><h1>Security</h1></a>
        </div>
      </div>
    </div>
    <script>
    function switchPageTo(page) {
      var pages = document.querySelectorAll(".page");
      var selectedPage = null;
      for (var i = 0; i < pages.length; ++i) {
        var isParent = page.substring(0, pages[i].id.length) == pages[i].id;
        pages[i].hidden = !isParent && pages[i].id != page;
        if (pages[i].id == page)
          selectedPage = pages[i];
      }

      var firstSubPage = selectedPage.querySelector(".page");
      if (firstSubPage)
        window.location.href = "#" + firstSubPage.id;
      
      var navLinks = document.querySelectorAll(".nav");
      for (var i = 0; i < navLinks.length; ++i) {
        var ref = new URL(navLinks[i].href).hash.substring(1);
        var isParent = page.substring(0, ref.length) == ref;
        if (ref == page || isParent)
          navLinks[i].setAttribute("selected", true);
        else
          navLinks[i].removeAttribute("selected");
      }
    }

    function switchPageToRef() {
      switchPageTo(window.location.hash == "" ? "home" :
          window.location.hash.substring(1));
    }

    window.addEventListener("hashchange", function (event) {
      switchPageToRef();
    }, false);

    switchPageToRef();
    </script>
  </body>
</html>
